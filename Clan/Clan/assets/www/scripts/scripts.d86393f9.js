"use strict";var BBS=angular.module("bbsH5App",["ngRoute","ngCookies","ngResource","ngSanitize","ngTouch","ngAnimate","jsonFormatter","bigUi"]);BBS.run(["$rootScope","global",function(a,b){}]),BBS.config(["$routeProvider","$locationProvider",function(a,b){a.when("/posts_detail",{templateUrl:"views/posts_detail.html",controller:"PostsDetailCtrl"}).when("/game_posts_detail",{templateUrl:"views/game_posts_detail.html",controller:"PostsDetailCtrl"}).when("/portal_detail",{templateUrl:"views/portal_detail.html",controller:"PortalDetailCtrl"}).otherwise({redirectTo:"/posts_detail"})}]),BBS.service("userStateInterceptor",["$location","$q","$rootScope",function(a,b){var c={request:function(a){return a},response:function(a){return a},requestError:function(a){return console.warn(a),b.reject(a)},responseError:function(a){return console.warn(a),b.reject(a)}};return c}]),BBS.config(["$httpProvider",function(a){a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8",a.defaults.headers.cookies=document.cookie,a.interceptors.push("userStateInterceptor");var b=function(a){var c,d,e,f,g,h,i,j="";for(c in a)if(d=a[c],d instanceof Array)for(i=0;i<d.length;++i)g=d[i],e=c+"["+i+"]",h={},h[e]=g,j+=b(h)+"&";else if(d instanceof Object)for(f in d)g=d[f],e=c+"["+f+"]",h={},h[e]=g,j+=b(h)+"&";else void 0!==d&&null!==d&&(j+=encodeURIComponent(c)+"="+encodeURIComponent(d)+"&");return j.length?j.substr(0,j.length-1):j};a.defaults.transformRequest=[function(a){return angular.isObject(a)&&"[object File]"!==String(a)?b(a):a}]}]);var bigUi=angular.module("bigUi",[]),nativeCommon={debug:!1,platform:"wap",version:"1.0.0",network:2,postData:{tid:711,userInfo:{}},theme:{name:"",color:"#000000"}},h5Interface={bigApi_h5_viewOnly:null,bigApi_h5_detailJump:null,bigApi_h5_detailReplyMain:null,bigApi_h5_login:null,bigApi_h5_logout:null,bigApi_h5_showSource:null},BigAppNative={toast:function(a){console.log(a.text)}},BigAppH5={};BBS.service("global",["$rootScope","$location","$http","$timeout","$anchorScroll",function(a,b,c,d,e){var f=this,g={api:{bigApi_bbsDetail:{name:"bigApi_bbsDetail",value:"http://192.168.180.23:8080/discuz/api/mobile/iyz_index.php?version=4&module=viewthread"},bigApi_portalDetail:{name:"bigApi_portalDetail",value:"http://192.168.180.23:8080/discuz/api/mobile/iyz_index.php?version=4&module=viewthread"},bigApi_setVote:{name:"bigApi_setVote",value:"http://192.168.180.93:8080/discuz/api/mobile/iyz_index.php?version=4&fid=2&module=pollvote&tid=658&pollsubmit=yes&quickforward=yes&inajax=1"},bigApi_onDetailReport:{name:"bigApi_onDetailReport",value:"http://192.168.180.23:8080/discuz/api/mobile/iyz_index.php?version=4&fid=2&module=pollvote&pollsubmit=yes&quickforward=yes&inajax=1&formhash=c43b1600&pollsubmit=true"},bigApi_onDetailLike:{name:"bigApi_onDetailLike",value:"http://192.168.180.23:8080/discuz/api/mobile/iyz_index.php?version=4&fid=2&module=pollvote&pollsubmit=yes&quickforward=yes&inajax=1&formhash=c43b1600&pollsubmit=true"},bigApi_onDetailLikeMain:{name:"bigApi_onDetailLikeMain",value:"http://192.168.180.23:8080/discuz/api/mobile/iyz_index.php?version=4&fid=2&module=pollvote&pollsubmit=yes&quickforward=yes&inajax=1&formhash=c43b1600&pollsubmit=true"},bigApi_onDetailReply:{name:"bigApi_onDetailReply",value:"http://192.168.180.23:8080/discuz/api/mobile/iyz_index.php?version=4&fid=2&module=pollvote&pollsubmit=yes&quickforward=yes&inajax=1&formhash=c43b1600&pollsubmit=true"},bigApi_joinActivity:{name:"bigApi_joinActivity",value:"http://192.168.180.23:8080/discuz/api/mobile/iyz_index.php?version=4&fid=2&module=pollvote&pollsubmit=yes&quickforward=yes&inajax=1&formhash=c43b1600&pollsubmit=true"},bigApi_cancleJoinActivity:{name:"bigApi_cancleJoinActivity",value:"http://192.168.180.23:8080/discuz/api/mobile/iyz_index.php?version=4&fid=2&module=pollvote&pollsubmit=yes&quickforward=yes&inajax=1&formhash=c43b1600&pollsubmit=true"},bigApi_manageActivityApplyList:{name:"bigApi_manageActivityApplyList",value:"http://192.168.180.23:8080/discuz/api/mobile/iyz_index.php?version=4&fid=2&module=pollvote&pollsubmit=yes&quickforward=yes&inajax=1&formhash=c43b1600&pollsubmit=true"},bigApi_ratePost:{name:"bigApi_ratePost",value:"http://192.168.180.23:8080/discuz/api/mobile/iyz_index.php?version=4&fid=2&module=pollvote&pollsubmit=yes&quickforward=yes&inajax=1&formhash=c43b1600&pollsubmit=true"},bigApi_viewRatings:{name:"bigApi_viewRatings",value:"http://192.168.180.23:8080/discuz/api/mobile/iyz_index.php?version=4&fid=2&module=pollvote&pollsubmit=yes&quickforward=yes&inajax=1&formhash=c43b1600&pollsubmit=true"},bigApi_addPostComment:{name:"bigApi_addPostComment",value:"http://192.168.180.23:8080/discuz/api/mobile/iyz_index.php?version=4&fid=2&module=pollvote&pollsubmit=yes&quickforward=yes&inajax=1&formhash=c43b1600&pollsubmit=true"},bigApi_clickVideoEvent:{name:"bigApi_clickVideoEvent",value:"http://192.168.180.23:8080/discuz/api/mobile/iyz_index.php?version=4&fid=2&module=pollvote&pollsubmit=yes&quickforward=yes&inajax=1&formhash=c43b1600&pollsubmit=true"},bigApi_getPostCommentInfo:{name:"bigApi_getPostCommentInfo",value:"http://192.168.180.23:8080/discuz/api/mobile/iyz_index.php?version=4&fid=2&module=pollvote&pollsubmit=yes&quickforward=yes&inajax=1&formhash=c43b1600&pollsubmit=true"}}};$.extend(f,g);var h,i,j=0;f.nativeReady=function(a){var c=b.search();return i=window.BigAppH5,"undefined"==typeof c.bigapp_device?(h=window.BigAppNative||{},f["native"]=nativeCommon,a.call(null,h,i),!1):void d(function(){h=window.BigAppNative||{},"undefined"!=typeof h.getEnvironment?(f["native"]=h.getEnvironment(),$.extend(window.BigAppH5,h5Interface),FastClick.attach(document.body),a.call(null,h,i)):(j++,f.nativeReady(a))},50)},h5Interface.bigApi_h5_viewOnly=function(b){a.$broadcast("h5-viewOnly",b)},h5Interface.bigApi_h5_detailJump=function(b){a.$broadcast("h5-detailJump",b)},h5Interface.bigApi_h5_detailReplyMain=function(b){a.$broadcast("h5-detailReplyMain",b)},h5Interface.bigApi_h5_login=function(b){a.$broadcast("h5-login",b)},h5Interface.bigApi_h5_logout=function(b){a.$broadcast("h5-logout",b)},h5Interface.bigApi_h5_showSource=function(){return $("html").html()},f.jumpId=function(a){var c=b.hash();b.hash(a),e(),b.hash(c)},f.getData=function(a){function b(a){var a={data:test_obj};"function"==typeof d.onSuccess&&d.onSuccess.apply(d,[a.data])}var c=this,d={api:"",data:"",onSuccess:null,onError:null};return $.extend(d,a),console.log(f),"wap"!=f["native"].platform?(h.getData({api:d.api.name,data:d.data,success:function(a){d.onSuccess(a),c.$apply()},error:function(a){d.onError(a),c.$apply()}}),!0):(console.log(this),void b())}}]);var test_obj={Version:"4",Charset:"GBK",Variables:{cookiepre:"VTl1_2132_",auth:null,saltkey:"TpnpzgN4",member_uid:"0",member_username:"",member_avatar:"http://10.2.29.10/luyi3.1gbk/uc_server/avatar.php?uid=0&size=big",groupid:"7",formhash:"b2851d5d",ismoderator:"0",readaccess:"1",notice:{newpush:"0",newpm:"0",newprompt:"0",newmypost:"0"},thread:{tid:"64",fid:"2",posttableid:"0",typeid:"0",sortid:"0",readperm:"0",price:"0",author:"amy1111",authorid:"4",subject:"红红火火[这样]",dateline:"1449130559",lastpost:"2015-12-3 16:15",lastposter:"amy1111",views:"11",replies:"0",displayorder:"0",highlight:"0",digest:"0",rate:"0",special:"4",attachment:"0",moderated:"0",closed:"0",stickreply:"0",recommends:"0",recommend_add:"0",recommend_sub:"0",heats:"0",status:"1056",isgroup:"0",favtimes:"0",sharetimes:"0",stamp:"-1",icon:"-1",pushedaid:"0",cover:"0",replycredit:"0",relatebytag:"0",maxposition:"1",bgcolor:"",comments:"0",hidden:"0",threadtable:"forum_thread",threadtableid:"0",posttable:"forum_post",allreplies:"0",is_archived:"",archiveid:"0",subjectenc:"%BA%EC%BA%EC%BB%F0%BB%F0%5B%D5%E2%D1%F9%5D",short_subject:"红红火火[这样]",starttime:"1449130559",remaintime:"",recommendlevel:"0",heatlevel:"0",relay:"0",ordertype:"0",share_url:"http://10.2.29.10/luyi3.1gbk/forum.php?mod=viewthread&tid=64"},fid:"2",postlist:[{pid:"105",tid:"64",first:"1",author:"amy1111",authorid:"4",dateline:"15 分钟前",message:"你",anonymous:"0",attachment:"0",status:"904",position:"1",uid:"4",extcredits2:"35",posts:"11",threads:"8",username:"amy1111",adminid:"0",groupid:"10",memberstatus:"0",number:"1",dbdateline:"1449130559",authortitle:"新手上路",allowrate:"0",ratecount:"0",ratelog:[],allowcomment:"0",author_display:"amy1111",groupiconid:"1",recommends:"0",recommend_add:"0",recommend_sub:"0",enable_recommend:"1",click2login:"1",addtext:"支持",subtext:"反对",recommend_value:"0",recommended:"0",avatar:"http://10.2.29.10/luyi3.1gbk/uc_server/avatar.php?uid=4&size=big",attachments:[]}],allowpostcomment:["1","2"],comments:[],commentcount:[],totalcomment:[],imagelist:[],ppp:"10",totalpage:"1",setting_rewriterule:null,setting_rewritestatus:"",forum_threadpay:"",cache_custominfo_postno:["<sup>#</sup>","楼主","沙发","板凳","地板"],report:{enable:"1",handlekey:"miscreport64",content:["广告垃圾","违规内容","恶意灌水","重复发帖","其他"]},special_poll:{is_poll:"0"},special_activity:{tid:"64",uid:"4",aid:"0",cost:"0",starttimefrom:"半小时前",place:"这样","class":"公益活动",gender:"0",number:"0",applynumber:"0",expiration:"0",ufield:{userfield:["bio"],extfield:[]},credit:"0",thumb:"",attachurl:"",allapplynum:"1",aboutmembers:"0",credit_title:"积分",joinfield:[{fieldid:"bio",title:"\x00\x00\x00浠\x00\x00",formtype:"textarea","default":"",size:"0",choices:[],validate:""}],show_admin:"0",userfield:{bio:null},extfield:null,basefield:[],closed:"0",status:"join",button:"join"},forum:{password:"0"},"jump#pid":"0",page:"1"},request_id:"0"};BBS.service("detail",["$rootScope","$location","loading","$http","$timeout","global",function(a,b,c,d,e,f){function g(a){var b=[];return $.each(a.special_poll.data.options,function(a,c){"undefined"!=typeof c.imginfo&&b.push(c.imginfo.image_small)}),b}function h(a){var b=[];return $(".p-content img:not(.smile-png)").each(function(c){b.push($(this).attr("src")),$(this).data("index",c),$(this).hasClass("load")||($(this).addClass("load"),$(this).on("click",function(){var b=$(this).data("index");"undefined"!=typeof a["native"].clickImage&&a["native"].clickImage({api:"clickImage",imgArr:a.detailImgArr,current:b,shutView:function(a){},success:function(a){},error:function(a){}})}))}),b}var i=this;i["native"]={},i.initScrollListen=function(){$(window).scroll(function(){a.$broadcast("detail-load-page")})},i.getDetail=function(b,c){var d={api:f.api.bigApi_bbsDetail,data:{},onSuccess:function(c){var d=c.Message;return"undefined"!=typeof d?(b["native"].toast({type:"toastType_closePage",api:"toast",text:d.messagestr,success:function(){}}),!1):(b.loaded=!0,c.Variables.page=void 0==c.Variables.page?1:c.Variables.page,$.extend(b.html5.postData,{tid:c.Variables.thread.tid,fid:c.Variables.thread.fid,page:c.Variables.page,authorid:c.Variables.thread.authorid,currentPage:c.Variables.page,totalPage:c.Variables.totalpage,maxposition:c.Variables.thread.maxposition,ismoderator:c.Variables.ismoderator}),e(function(){b.detailImgArr=h(b),$.extend(b.html5.shareData,{share_image:b.detailImgArr[0],share_url:c.Variables.thread.share_url,share_subject:c.Variables.thread.subject,share_abstract:c.Variables.postlist[0].message}),e(function(){"0"!=c.Variables["jump#pid"]&&void 0!=c.Variables["jump#pid"]&&f.jumpId("floor_"+c.Variables["jump#pid"])})}),b.detail={thread:c.Variables.thread,first:c.Variables.postlist[0],totalcomment:"undefined"!=typeof c.Variables.totalcomment&&c.Variables.totalcomment[c.Variables.postlist[0].pid]},b.detail.list={},b.detail.list[c.Variables.page]=c.Variables.postlist,c.Variables.page==c.Variables.totalpage?b.loadLock=!1:(b.loadLock=!0,e(function(){a.$broadcast("detail-load-page")})),"android"==f["native"].platform&&e(function(){$(".iyouzu_video").each(function(){var a=$(this);a.css("position","relative");var c=a.find("iframe").attr("src"),d=$('<div class="videoEvent" style="position: absolute; top:0; left:0; width:100%; height:100%; z-index:999; background:rgba(0,0,0,0);"><div>');d.click(function(){var a={src:c};f.getData.call(b,{api:f.api.bigApi_clickVideoEvent,data:a,onSuccess:function(){}})}),a.append(d)})}),i.voteModule(b,c.Variables),i.activeModule(b,c.Variables),i.rateModule(b,c.Variables),b.output.json=c,void(b.output.show=!0))},onError:function(a){b.loaded=!0,b.output.json=a,b.output.show=!0}};$.extend(d,c),""!=d.data.tid&&void 0!=d.data.tid&&1==b.role&&(d.data.authorid=b.html5.postData.authorid),console.log(d),f.getData.call(b,{api:d.api,data:d.data,onSuccess:function(a){d.onSuccess.call(null,a)},onError:function(a){d.onError.call(null,a)}})},i.like=function(a,b){if(1==b.enable_support){var c={tid:b.tid,pid:b.pid};f.getData.call(a,{api:f.api.bigApi_onDetailLike,data:c,onSuccess:function(c){if("undefined"!=typeof c.Message){var d=c.Message;"thread_poll_succeed"==d.messageval?(b.support++,b.supported=1):a["native"].toast({api:"toast",text:d.messagestr,success:function(){}})}a.output.json=c,a.output.show=!0},onError:function(b){a.output.json=b,a.output.show=!0}})}},i.likeMain=function(a,b){if(1==b.enable_recommend){var c={tid:b.tid};f.getData.call(a,{api:f.api.bigApi_onDetailLikeMain,data:c,onSuccess:function(c){if("undefined"!=typeof c.Message){var d=c.Message;"recommend_succeed"==d.messageval?(++b.recommend_add,b.recommended=1):a["native"].toast({text:d.messagestr,success:function(){}})}a.output.json=c,a.output.show=!0},onError:function(b){a.output.json=b,a.output.show=!0}})}},i.detailLoadMore=function(a){var b=$("body").height(),c=$(window).height(),d=$(window).scrollTop();if(c+d>=b-10&&(console.log("loadingMore"),a.loadLock)){a.loadLock=!1;var f={page:++a.html5.postData.page,tid:a.html5.postData.tid};i.getDetail(a,{data:f,onSuccess:function(b){b.Variables.page=void 0==b.Variables.page?1:b.Variables.page,$.extend(a.html5.postData,{page:b.Variables.page,currentPage:b.Variables.page,totalPage:b.Variables.totalpage,maxposition:b.Variables.maxposition}),a.detail.thread=b.Variables.thread,a.detail.list[b.Variables.page]=b.Variables.postlist,e(function(){a.detailImgArr=h(a)}),parseInt(a.html5.postData.page)<parseInt(a.html5.postData.totalPage)?a.loadLock=!0:a.loadLock=!1,a.output.json=a["native"],a.output.show=!0},onError:function(b){a.output.json=b,a.output.show=!0}})}},i.rateModule=function(a,b){a.setScore=function(b){var c={pid:b};f.getData.call(a,{api:f.api.bigApi_ratePost,data:c,onSuccess:function(b){if("undefined"!=typeof b.Message){var c=b.Message;"0"==b.Variables.status?a.detail.first.ratelog.push({uid:a.detail.first.uid,username:a.detail.first.username,avatar:a.detail.first.avatar}):a["native"].toast({api:"toast",text:c.messagestr,success:function(){}})}a.output.json=b,a.output.show=!0},onError:function(b){a.output.json=b,a.output.show=!0}})},a.getAllScore=function(b){var c={pid:b};f.getData.call(a,{api:f.api.bigApi_viewRatings,data:c,onSuccess:function(a){},onError:function(a){}})}},i.activeModule=function(a,b){return void 0==b.special_activity?!1:(a.hasActivity=!0,a.special_activity=b.special_activity,a.joinActivity=function(b){var c={pid:b,special_activity:a.special_activity};f.getData.call(a,{api:f.api.bigApi_joinActivity,data:c,onSuccess:function(b){if("undefined"!=typeof b.Message){var c=b.Message;"activity_completion"==c.messageval?(a.special_activity.status="",a.special_activity.allapplynum++):a["native"].toast({api:"toast",text:c.messagestr,success:function(){}})}a.output.json=b,a.output.show=!0},onError:function(b){a.output.json=b,a.output.show=!0}})},a.cancleJoinActivity=function(b){var c={pid:b};f.getData.call(a,{api:f.api.bigApi_cancleJoinActivity,data:c,onSuccess:function(b){if("undefined"!=typeof b.Message){var c=b.Message;"activity_cancel_success"==c.messageval?(a.special_activity.status="join",a.special_activity.allapplynum--):a["native"].toast({api:"toast",text:c.messagestr,success:function(){}})}a.output.json=b,a.output.show=!0},onError:function(b){a.output.json=b,a.output.show=!0}})},void(a.manageActivityApplyList=function(b){var c={pid:b};f.getData.call(a,{api:f.api.bigApi_manageActivityApplyList,data:c,onSuccess:function(a){},onError:function(a){}})}))},i.voteModule=function(a,b){return void 0==b.special_poll||"0"==b.special_poll.is_poll?!1:(a.special_poll=b.special_poll,a.voteFormData={tid:a.detail.thread.tid,fid:a.detail.thread.fid,pollanswers:[]},a.pollCtrl={voted:!1,checkboxArr:[],voteSubmitDisable:!0,pollCheck:!0,visiblepoll:a.special_poll.data.visiblepoll,pollCheckLen:0},a.pollItemInit=function(b){a.pollCtrl.checkboxArr[b]=0},a.voteDisable=function(b){return a.pollCtrl.voted||(0==a.special_poll.data.allowvotepolled||!a.pollCtrl.pollCheck||0==a.special_poll.data.allowvoteusergroup)&&0==a.pollCtrl.checkboxArr[b]},a.voteChange=function(b,c){if("undefined"!=typeof c){var d=b;if(a.voteDisable(d))return!1;b=a.pollCtrl.checkboxArr[d],0==b?a.pollCtrl.checkboxArr[d]=b=c.polloptionid:a.pollCtrl.checkboxArr[d]=b=0}0==b?a.pollCtrl.pollCheckLen--:a.pollCtrl.pollCheck&&a.pollCtrl.pollCheckLen++,a.pollCtrl.pollCheckLen>0?a.pollCtrl.voteSubmitDisable=!1:a.pollCtrl.voteSubmitDisable=!0,a.pollCtrl.pollCheckLen>=a.special_poll.data.maxchoices?a.pollCtrl.pollCheck=!1:a.pollCtrl.pollCheck=!0},a.voteImgShow=function(b){"undefined"!=typeof a["native"].clickImage&&a["native"].clickImage({api:"clickImage",imgArr:g(a),current:b,shutView:function(a){},success:function(a){},error:function(a){}})},void(a.pollSubmit=function(){a.voteFormData.pollanswers=[],$.each(a.pollCtrl.checkboxArr,function(b,c){0!=c&&a.voteFormData.pollanswers.push(c)}),a.voteFormData.pollanswers.length&&(a.voteFormData.tid=a.detail.thread.tid,i.getDetail(a,{api:f.api.bigApi_setVote,data:a.voteFormData,onSuccess:function(b){if("undefined"!=typeof b.Message){var c=b.Message;if("thread_poll_succeed"==c.messageval){a.pollCtrl.voted=!0;var d={tid:a.html5.postData.tid};i.getDetail(a,{data:d})}else a["native"].toast({api:"toast",text:c.messagestr,success:function(){}})}a.output.json=b,a.output.show=!0}})),console.log("pollSubmit")}))}}]),bigUi.filter("html",["$sce",function(a){return function(b){return a.trustAsHtml(b)}}]),bigUi.directive("ngTap",function(){return function(a,b,c){var d;return d=!1,b.bind("click",function(){return d?void 0:a.$apply(c.ngTap)}),b.bind("touchstart",function(a){return d=!0}),b.bind("touchmove",function(a){return d=!1,a.stopImmediatePropagation()}),b.bind("touchend",function(){return d?a.$apply(c.ngTap):void 0})}}),bigUi.service("loading",["$rootScope",function(a){var b=this;this.layer=0;var c=[];this.show=function(b){this.layer++,c.push(b),a.$broadcast("loading-add")},this.hide=function(){b.layer--,c.pop(),a.$broadcast("loading-remove")},this.clear=function(){this.layer=0,c=[],a.$broadcast("loading-remove")},this._doClick=function(){var a=c.pop();"function"==typeof a&&(c.push(a),a())}}]).directive("loading",["loading","$timeout",function(a){return{replace:!0,scope:!0,template:'<div class="loading"><div class="layer"></div><div class="loading-content"><div class="txt">正在加载</div><div class="load-progress"></div></div></div>',restrict:"EA",link:function(b,c){var d,e;b.$on("loading-add",function(){a.layer>0&&(c.css("display","block"),clearTimeout(e),d=setTimeout(function(){c.addClass("show")},10))}),b.$on("loading-remove",function(){b.click=a._doClick,a.layer<=0?(a.layer=0,c.removeClass("show"),e=setTimeout(function(){c.css("display","none")},100)):c.addClass("show")}),c.on("touchmove",function(a){a.preventDefault()})}}}]),bigUi.service("dialog",["$rootScope",function(a){var b=this;this.layer=0,b.hide=function(b){a.$broadcast("dialog-hide",b)}}]),bigUi.directive("appDialog",["dialog","$timeout",function(a){return{replace:!0,scope:{option:"="},transclude:!0,template:'<div class="app-dialog" ng-show="option.show">    <div class="layer"></div>    <div class="dialog-container">        <header ng-show="option.headDisplay == 1">            <h2>{{option.title}}</h2>            <div class="close-btn" ng-click="closeDialog()"></div>        </header>        <section class="dialog-content">            <article class="dialog-detail" ng-transclude>            </article>        </section>    </div></div>',restrict:"EA",link:function(b){b.option.headDisplay=1,console.log(b.option),b.$on("dialog-hide",function(){b.option.show=0,b.option.headDisplay=1}),b.closeDialog=function(){a.hide()}}}}]),bigUi.directive("dialogAlert",["dialog",function(a){return{replace:!0,scope:{option:"=",confirm:"&",cancel:"&"},template:'<span><app-dialog option="option.dialogSet">    <p class="txt">        {{option.txt}}    </p>    <div class="dialog-btn-bar">        <div ng-if="option.b1!=\'\'" class="btn btn-submit" ng-click="confirm()">{{option.b1}}</div>        <div ng-if="option.b2!=\'\'" class="btn btn-gray" ng-click="cancel()">{{option.b2}}</div>    </div></app-dialog></span>',restrict:"EA",link:function(b,c,d){b.confirm=function(){a.hide(),"undefined"!=typeof b.option.confirm&&b.option.confirm.call(this)},b.cancel=function(){a.hide(),"undefined"!=typeof b.option.cancel&&b.option.cancel.call(this)}}}}]),bigUi.directive("tabToggle",[function(){return{replace:!0,transclude:!0,scope:{exClass:"@",name:"@",value:"=",disable:"=",callback:"&",index:"="},template:'<nav class="tab-toggle {{exClass}}"><div class="li toggle-btn" ng-class="{active : index == list.value , disable : dis[$index]}" ng-click="toggleBtn($index,list.value)" data-id="{{$index}}" data-value="list.value" ng-repeat="list in value">{{list.name}}</div><div class="clear"></div><div ng-transclude></div></nav>',restrict:"EA",link:function(a,b){function c(b){if(b)for(var c in b)a.dis[b[c]]=1}a.dis=[],c(a.disable),""==a.name&&(a.name="tempItem"),a.toggleBtn=function(c,d){a.dis[c]||(a.index=d,"undefined"!=typeof a.callback&&a.callback({index:c,element:b,value:d}))}}}}]),bigUi.directive("output",["global",function(a){return{replace:!0,scope:{option:"="},templateUrl:"views/directives/output.html",restrict:"EA",link:function(a){a.toggle=function(){console.log("output"),a.option.show=!a.option.show}}}}]),BBS.controller("PostsDetailCtrl",["$scope","global","$timeout","detail",function(a,b,c,d){function e(){var b={tid:a.html5.postData.tid};d.getDetail(a,{data:b})}function f(){var b={tid:a.html5.postData.tid};a.special_poll=null,a.special_activity=null,c(function(){d.getDetail(a,{data:b})})}function g(c){var e={tid:c.tid,pid:c.pid,fid:a.detail.thread.fid,typeid:a.detail.thread.typeid,dateline:c.dbdateline,message:c.message,author:c.author};d.getDetail(a,{api:b.api.bigApi_onDetailReply,data:e,onSuccess:function(){i()}})}function h(){i()}function i(){if(a.html5.postData.page==a.html5.postData.totalPage){var b={tid:a.html5.postData.tid,page:a.html5.postData.page};d.getDetail(a,{data:b,onSuccess:function(b){$.extend(a.html5.postData,{page:b.Variables.page,currentPage:b.Variables.page,totalPage:b.Variables.totalpage,maxposition:b.Variables.thread.maxposition}),a.html5.postData.page==a.html5.postData.totalPage?a.detail.list[a.html5.postData.page]=b.Variables.postlist:a.loadLock=!0}})}}function j(c){if("object"!=typeof c)return!1;if(void 0!=c.position&&""!=c.position&&$("#floor_num_"+c.position).length)return b.jumpId("floor_num_"+c.position),!0;var e={tid:a.html5.postData.tid,postno:c.position,page:c.page};d.getDetail(a,{data:e})}function k(b){if("object"!=typeof b)return!1;a.role=b.role;var c={tid:a.html5.postData.tid};d.getDetail(a,{data:c})}a.loaded=!1,a.output={json:{},show:!1},a["native"]={},a.detailImgArr=[],a.debug=!1,a.hasActivity=!1,a.loadLock=!0,b.nativeReady(function(c,i){a["native"]=c,a.html5=i,a.html5.postData={tid:"",page:1,authorid:""},a.html5.shareData={share_url:"",share_image:"",share_subject:"",share_abstract:""},$.extend(a.html5.postData,b["native"].postData),a.userInfo=b["native"].postData.userInfo,a.detail={},a.role=0,a.debug=b["native"].debug,a.themeInit=function(){var a=b["native"].theme.color,c="background-color:"+a+";",d="color:"+a+";",e="border-color:"+a+";",f="<style>.btn.btn-submit{"+e+d+"}.btn.btn-submit-little{"+e+d+"}#detail.posts .detail-score .score-head .btn i{"+c+"}#detail.posts .detail-score .score-head h2:before{background-color:"+a+";}#detail.posts .vote-progress span{background-color:"+a+"!important;}</style>";$("#detail").append(f)},d.initScrollListen(),a.$on("h5-viewOnly",function(a,b){k(b)}),a.$on("h5-detailJump",function(a,b){j(b)}),a.$on("h5-detailReplyMain",function(){h()}),a.$on("h5-login",function(a,b){f()}),a.$on("h5-logout",function(a,b){f()}),a.like=function(b){d.like(a,b)},a.likeMain=function(b){d.likeMain(a,b)},a.addPostComment=function(c){var d={pid:c,tid:a.html5.postData.tid};b.getData.call(a,{api:b.api.bigApi_addPostComment,data:d,onSuccess:function(c){if("undefined"!=typeof c.Message){var e=c.Message;"comment_add_succeed"==e.messageval?b.getData.call(a,{api:b.api.bigApi_getPostCommentInfo,data:d,onSuccess:function(b){a.detail.totalcomment=b.Variables.totalcomment,a.output.json=b,a.output.show=!0},onError:function(b){a["native"].toast({api:"toast",text:"获取新的点评数据失败",success:function(){}})}}):a["native"].toast({api:"toast",text:e.messagestr,success:function(){}})}a.output.json=c,a.output.show=!0},onError:function(b){a["native"].toast({api:"toast",text:"点评失败",success:function(){}}),a.output.json=b,a.output.show=!0}})},a.reply=function(a){g(a)},a.report=function(){d.getDetail(a,{api:b.api.bigApi_onDetailReport,onSuccess:function(){}})},a.clickAvatar=function(b){a["native"].clickAvatar({api:"clickAvatar",uid:b,success:function(b){a.output.json=b,a.output.show=!0}})},e()}),a.$on("detail-load-page",function(){d.detailLoadMore(a)})}]),BBS.controller("PortalDetailCtrl",["$scope","global","$timeout","detail",function(a,b,c,d){function e(){var b={tid:a.html5.postData.tid};d.getDetail(a,{data:b})}function f(){var b={tid:a.html5.postData.tid};a.special_poll=null,a.special_activity=null,c(function(){d.getDetail(a,{data:b})})}function g(c){var e={tid:c.tid,pid:c.pid,fid:a.detail.thread.fid,typeid:a.detail.thread.typeid,dateline:c.dbdateline,message:c.message,author:c.author};d.getDetail(a,{api:b.api.bigApi_onDetailReply,data:e,onSuccess:function(){i()}})}function h(){i()}function i(){if(a.html5.postData.page==a.html5.postData.totalPage){var b={tid:a.html5.postData.tid,page:a.html5.postData.page};d.getDetail(a,{data:b,onSuccess:function(b){$.extend(a.html5.postData,{page:b.Variables.page,currentPage:b.Variables.page,totalPage:b.Variables.totalpage,maxposition:b.Variables.thread.maxposition}),a.html5.postData.page==a.html5.postData.totalPage?a.detail.list[a.html5.postData.page]=b.Variables.postlist:a.loadLock=!0}})}}function j(c){if("object"!=typeof c)return!1;if(void 0!=c.position&&""!=c.position&&$("#floor_num_"+c.position).length)return b.jumpId("floor_num_"+c.position),!0;var e={tid:a.html5.postData.tid,postno:c.position,page:c.page};d.getDetail(a,{data:e})}function k(b){if("object"!=typeof b)return!1;a.role=b.role;var c={tid:a.html5.postData.tid};d.getDetail(a,{data:c})}a.loaded=!1,a.output={json:{},show:!1},a["native"]={},a.detailImgArr=[],a.debug=!1,a.hasActivity=!1,a.loadLock=!0,b.nativeReady(function(c,i){a["native"]=c,a.html5=i,a.html5.postData={aid:"",page:1,authorid:""},a.html5.shareData={share_url:"",share_image:"",share_subject:"",share_abstract:""},$.extend(a.html5.postData,b["native"].postData),a.userInfo=b["native"].postData.userInfo,a.detail={},a.role=0,a.debug=b["native"].debug,a.themeInit=function(){var a=b["native"].theme.color,c="background-color:"+a+";",d="color:"+a+";",e="border-color:"+a+";",f="<style>.btn.btn-submit{"+e+d+"}.btn.btn-submit-little{"+e+d+"}#detail.posts .detail-score .score-head .btn i{"+c+"}#detail.posts .detail-score .score-head h2:before{background-color:"+a+";}#detail.posts .vote-progress span{background-color:"+a+"!important;}</style>";$("#detail").append(f)},d.initScrollListen(),a.$on("h5-viewOnly",function(a,b){k(b)}),a.$on("h5-detailJump",function(a,b){j(b)}),a.$on("h5-detailReplyMain",function(){h()}),a.$on("h5-login",function(a,b){f()}),a.$on("h5-logout",function(a,b){f()}),a.like=function(b){d.like(a,b)},a.likeMain=function(b){d.likeMain(a,b)},a.addPostComment=function(c){var d={pid:c,tid:a.html5.postData.tid};b.getData.call(a,{api:b.api.bigApi_addPostComment,data:d,onSuccess:function(c){if("undefined"!=typeof c.Message){var e=c.Message;"comment_add_succeed"==e.messageval?b.getData.call(a,{api:b.api.bigApi_getPostCommentInfo,data:d,onSuccess:function(b){a.detail.totalcomment=b.Variables.totalcomment,a.output.json=b,a.output.show=!0},onError:function(b){a["native"].toast({api:"toast",text:"获取新的点评数据失败",success:function(){}})}}):a["native"].toast({api:"toast",text:e.messagestr,success:function(){}})}a.output.json=c,a.output.show=!0},onError:function(b){a["native"].toast({api:"toast",text:"点评失败",success:function(){}}),a.output.json=b,a.output.show=!0}})},a.reply=function(a){g(a)},a.report=function(){d.getDetail(a,{api:b.api.bigApi_onDetailReport,onSuccess:function(){}})},a.clickAvatar=function(b){a["native"].clickAvatar({api:"clickAvatar",uid:b,success:function(b){a.output.json=b,a.output.show=!0}})},e()}),a.$on("detail-load-page",function(){d.detailLoadMore(a)})}]),BBS.controller("TestNativeCtrl",["$scope","global","$timeout",function(a,b,c){var d=1;a.output={json:{},show:!1};var e;b.nativeReady(function(){e=window.BigAppNative||{},e.postData={tid:"48",page:1,authorid:"1"},a.info=b["native"],a.output={show:!1,json:{}},a.showSource=function(){a.output.json=test_obj},a.triggerGetData=function(c,e){d++,b.getData.call(a,{api:b.api[c],data:e,onSuccess:function(b){a.output.json=b,a.output.show=!0},onError:function(b){a.output.json=b,a.output.show=!0}})}})}]),angular.module("bbsH5App").run(["$templateCache",function(a){a.put("views/directives/output.html",'<div class="output" ng-class="{\'show\':option.show}"> <div class="title" ng-click="toggle()">-- Output --</div> <div class="output-detail"> <json-formatter open json="option.json"></json-formatter> </div> </div>'),a.put("views/game_error.html",'<div id="pageError"> <div class="error-info"> <img ng-src="images/gamesdk/error.png" style="width: 100px" alt=""> <p>啊哦~出错了~刷新试试！</p> </div> </div>'),a.put("views/game_posts_detail.html",'<div id="gameSdk"> <div id="detail" class="posts" ng-show="loaded"> <section class="lz card"> <div class="user-info"> <div class="photo" ng-click="clickAvatar(detail.first.uid)" ng-style="{\'background-image\':\'url(\'+ detail.first.avatar +\')\'}"></div> <div class="info-detail"> <div class="date">{{detail.first.dateline}}</div> <div class="name">{{detail.first.author_display}}</div> </div> </div> <article> <!--<h1>{{detail.thread.subject}}</h1>--> <div class="p-content" ng-bind-html="detail.first.message"></div> </article> </section> <section class="reply card"> <div class="reply-head">相关回复</div> <ul class="reply-items"> <li class="clearFix noReply" ng-if="detail.list[\'1\'].length <=1"> <article> <p>暂无回复</p> </article> </li> <div ng-repeat="page in detail.list"> <li class="clearFix" ng-if="list.first!=1" ng-repeat="list in page" id="floor_{{list.pid}}"> <div class="user-info"> <div class="photo" ng-tap="clickAvatar(list.uid)" ng-style="{\'background-image\':\'url(\'+ list.avatar +\')\'}"></div> <div class="info-detail"> <p class="date">{{list.dateline}}</p> <p class="name">{{list.author_display}}</p> </div> </div> <article> <div class="p-content" ng-bind-html="list.message"></div> </article> </li> </div> </ul> </section> <div class="no-more" ng-if="html5.postData.totalPage>1"> <span ng-if="loadLock">正在加载更多内容...</span> <span ng-if="!loadLock">没有更多了</span> </div> <output ng-if="debug == true" option="output"></output> </div> <div class="loading" ng-if="!loaded"></div> </div>'),a.put("views/portal_detail.html",'<section id="detail" class="posts portal"> <section class="lz card"> <article> <h1>高精唯美RPG大作《女神联盟》</h1> <div class="detail-time"><i></i><span>31分钟前</span></div> <div class="p-content"> <br><br> <font face="微软雅黑"><font size="3"><hr class="l"><br> <br> 为感谢网友对<a href="http://www.html5cn.org" target="_blank" class="relatedlink">HTML5中国</a>的一路支持，HTML5中国与人民邮电出版社 共同举办《HTML5程序开发范例宝典》试读点评送书活动，试读后请在本帖下面写下你对这本书的读后感（不少于40字）即可。</font></font> <div align="center"><font face="微软雅黑"><font size="3"> <img src="http://www.mob.com/mob/img/engagement/demo05.jpg" alt="图片名称"> </font></font></div> </div> </article> </section> <section class="reply card"> <div class="reply-head"><h2>相关回复</h2></div> <ul class="reply-items"> <li class="clearFix noReply" ng-if="detail.list[\'1\'].length <=1"> <article> <p>暂无回复</p> </article> </li> <div ng-repeat="page in detail.list"> <li class="clearFix" ng-if="list.first!=1" ng-repeat="list in page" id="floor_{{list.pid}}"> <div class="user-info"> <div class="photo" ng-click="clickAvatar(list.uid)" ng-style="{\'background-image\':\'url(\'+ list.avatar +\')\'}"></div> <div class="info-detail"> <p class="name"><span>{{list.author}}</span><em ng-if="list.first != 0" class="tags tags-lz">楼主</em></p> <p class="date">{{list.dateline}}</p> </div> <div class="floor" id="floor_num_{{list.position}}">{{list.position}}楼</div> </div> <article> <div class="p-content" ng-bind-html="list.message"></div> </article> <div class="comments"> <div class="option-item icon-nor icon-report" ng-click="report()"></div> <div class="option-item icon-nor icon-reply" ng-click="reply(list)"></div> <div ng-if="list.enable_support == 1" class="option-item"><i>{{list.support}}</i><i class="icon-nor icon-like" ng-class="{\'icon-liked\': list.supported == 1}" ng-click="like(list)"></i></div> </div> </li> </div> </ul> </section> <div class="no-more" ng-if="html5.postData.totalPage>1"> <span ng-if="loadLock">正在加载更多内容...</span> <span ng-if="!loadLock">没有更多了</span> </div> <output ng-if="debug == true" option="output"></output> </section>'),
a.put("views/posts_detail.html",'<div id="detail" ng-init="themeInit()" class="posts" ng-if="loaded"> <section class="lz card" id="floor_{{detail.first.pid}}"> <div class="user-info"> <div class="photo" ng-click="clickAvatar(detail.first.uid)" ng-style="{\'background-image\':\'url(\'+ detail.first.avatar +\')\'}"></div> <div class="info-detail"> <p class="name"><span>{{detail.first.author}}</span><em class="tags tags-lz">楼主</em></p> <p class="date">{{detail.first.dateline}}</p> </div> </div> <article> <h1>{{detail.thread.subject}}</h1> <div class="posts-active" ng-if="hasActivity"> <div class="active-kv" ng-if="special_activity.attachurl != \'\' && special_activity.attachurl != undefined"><img ng-src="{{special_activity.attachurl}}" alt=""></div> <div class="active-info"> <div class="active-info-li"> <i class="icon-nor icon-people"></i><div class="info-text">{{special_activity.allapplynum}}人报名</div> </div> <div class="active-info-li"> <i class="icon-nor icon-tag"></i><div class="info-text"><span class="active-tag">{{special_activity.class}}</span></div> </div> <div class="active-info-li"> <i class="icon-nor icon-clock"></i><div class="info-text">{{special_activity.starttimefrom}} <span ng-if="special_activity.starttimeto != \'\'">至</span> {{special_activity.starttimeto}}</div> </div> <div class="active-info-li"> <i class="icon-nor icon-loc"></i><div class="info-text">{{special_activity.place}}</div> </div> <div class="active-bar"> <div class="btn btn-submit" ng-if="special_activity.closed == 1">活动已关闭</div> <div class="btn btn-submit" ng-if="special_activity.status == \'join\' && special_activity.closed == 0" ng-click="joinActivity(detail.first.pid)">我要参加</div> <div class="btn btn-submit disable" ng-if="special_activity.status != \'join\' && special_activity.status != undefined && special_activity.closed == 0" ng-click="cancleJoinActivity(detail.first.pid)">取消参加</div> <div class="btn btn-submit manager" ng-if="special_activity.show_admin == 1" ng-click="manageActivityApplyList(detail.first.pid)">管理活动</div> </div> </div> <div class="active-detail"> <div class="active-detail-head"><h2>活动详情</h2></div> </div> </div> <div class="p-content" ng-bind-html="detail.first.message | html"></div> <div class="vote" ng-class="{\'no-permission\':special_poll.data.allowvotepolled == 0 || special_poll.data.allowvoteusergroup == 0,\'voted\':pollCtrl.voted}" ng-if="special_poll.is_poll == \'1\'"> <div class="vote-info"> <div class="fll" ng-if="special_poll.data.multiple == 1">投票（多选 , 最多{{special_poll.data.maxchoices}}项）</div> <div class="fll" ng-if="special_poll.data.multiple == 0">投票（单选）</div> <div class="flr">共有{{special_poll.data.voterscount}}人参与投票</div> </div> <ul class="vote-list"> <li ng-init="pollItemInit($index)" ng-repeat="list in special_poll.data.options"> <label> <input ng-disabled="voteDisable($index)" type="checkbox" ng-change="voteChange(pollCtrl.checkboxArr[$index])" ng-model="pollCtrl.checkboxArr[$index]" id="vote_{{list.polloptionid}}" ng-true-value="\'{{list.polloptionid}}\'" ng-false-value="\'0\'" name="vote"> <div ng-if="special_poll.data.isimagepoll == 1" ng-click="voteImgShow($index)" class="pic" ng-style="{\'background-image\':\'url(\'+ list.imginfo.image_small +\')\'}"></div> <div class="vote-label-detail" ng-click="voteChange($index,list)"> <div class="vote-info"><h3>{{list.polloption}}</h3><div class="vote-result" ng-if="pollCtrl.visiblepoll == 0 || pollCtrl.voted">{{list.votes}}票 ({{list.percent}}%)</div></div> <div ng-if="pollCtrl.visiblepoll == 0 || pollCtrl.voted" class="vote-progress"><span ng-style="{\'width\':list.percent+\'%\'}"></span></div> </div> </label> </li> </ul> <div class="vote-tips"> <p ng-if="special_poll.data.allowvotethread == 0">投票已过期</p> <p ng-if="special_poll.data.allowvotethread != 0 && special_poll.data.allowvotepolled == 0 || pollCtrl.voted">您已经投过票，谢谢您的参与</p> <p ng-if="special_poll.data.allowvotethread != 0 && special_poll.data.allowvoteusergroup == 0">您所在的用户组不具备投票资格</p> <div ng-if="special_poll.data.allowvotethread != 0 && special_poll.data.allowvotepolled != 0 &&  special_poll.data.allowvoteusergroup != 0 && !pollCtrl.voted" ng-class="{\'wait\':pollCtrl.voteSubmitDisable}" ng-click="pollSubmit()" class="btn btn-submit">投票</div> </div> </div> </article> <div class="like" ng-if="detail.first.enable_recommend == 1"> <div class="icon"><i class="icon-nor icon-like" ng-class="{\'icon-liked\': detail.first.recommended == 1}" ng-click="likeMain(detail.first)"></i></div> <div class="count">已有<span>{{detail.first.recommend_add}}</span>人赞过</div> </div> </section> <section class="detail-score mt10" ng-if="detail.first.ratecount > 0 || detail.first.allowrate == 1"> <div class="card-head"><h2>相关评分</h2><div class="btn btn-submit-little" ng-click="setScore(detail.first.pid)" ng-if="detail.first.allowrate == 1"><i></i><span>我要评分</span></div></div> <div class="score-simple" ng-if="detail.first.ratecount > 0"> <div class="score-info" ng-click="getAllScore(detail.first.pid)">{{detail.first.ratecount}}人评分了</div> <div class="photo-list"> <img ng-click="clickAvatar(list.uid)" ng-repeat="list in detail.first.ratelog" ng-src="{{list.avatar}}" alt="{{list.username}}"> </div> </div> </section> <section class="detail-comment mt10" ng-if="detail.totalcomment.length > 0 || detail.first.allowcomment == 1"> <div class="card-head"><h2>点评</h2></div> <ul class="comment-list" ng-if="detail.totalcomment.length > 0"> <li ng-repeat="list in detail.totalcomment"><h3>{{list.option}}</h3><h4>{{list.score}}</h4></li> </ul> <div class="hr" ng-if="detail.totalcomment.length > 0 && detail.first.allowcomment == 1"></div> <div class="btn-submit" ng-click="addPostComment(detail.first.pid)" ng-if="detail.first.allowcomment == 1">我要点评</div> </section> <section class="reply card"> <div class="reply-head"><h2>相关回复</h2></div> <ul class="reply-items"> <li class="clearFix noReply" ng-if="detail.list[\'1\'].length <=1"> <article> <p>暂无回复</p> </article> </li> <div ng-repeat="page in detail.list"> <li class="clearFix" ng-if="list.first!=1" ng-repeat="list in page" id="floor_{{list.pid}}"> <div class="user-info"> <div class="photo" ng-click="clickAvatar(list.uid)" ng-style="{\'background-image\':\'url(\'+ list.avatar +\')\'}"></div> <div class="info-detail"> <p class="name"><span>{{list.author}}</span><em ng-if="list.first != 0" class="tags tags-lz">楼主</em></p> <p class="date">{{list.dateline}}</p> </div> <div class="floor" id="floor_num_{{list.position}}">{{list.position}}楼</div> </div> <article> <div class="p-content" ng-bind-html="list.message"></div> </article> <div class="comments"> <div class="option-item icon-nor icon-report" ng-click="report()"></div> <div class="option-item icon-nor icon-reply" ng-click="reply(list)"></div> <div ng-if="list.enable_support == 1" class="option-item"><i>{{list.support}}</i><i class="icon-nor icon-like" ng-class="{\'icon-liked\': list.supported == 1}" ng-click="like(list)"></i></div> </div> </li> </div> </ul> </section> <div class="no-more" ng-if="html5.postData.totalPage>1"> <span ng-if="loadLock">正在加载更多内容...</span> <span ng-if="!loadLock">没有更多了</span> </div> <output ng-if="debug == true" option="output"></output> </div> <!--<div class="loading" ng-if="!loaded"></div>-->'),a.put("views/test_native.html",'<div id="testUi"> <h1>Native 接口测试</h1> <div class="app-form"> <h2>AngularJs 准备就绪</h2> <h2>App基本信息 getEnvironment()</h2> <ul> <li> <h3>设备信息 - platform</h3> <p>{{info.platform}}</p> </li> <li> <h3>版本 - version</h3> <p>{{info.version}}</p> </li> <li> <h3>网络状态 - network</h3> <p>{{info.network}}</p> </li> <li> <h3>主题 - theme</h3> <p>color:{{info.theme.color}}</p> </li> </ul> <div class="label-list"> <div class="label"><a href="#/posts_detail">详情页</a></div> <div class="label"><a href="#/portal_detail">文章页</a></div> </div> <div class="label-list"> <div class="label"><button ng-click="showSource()">打印html showSource()</button></div> <div class="label"><button ng-click="triggerGetData(\'bigApi_bbsDetail\')">帖子详情 bbsDetail</button></div> <div class="label"><button ng-click="triggerGetData(\'bigApi_onDetailReport\')">举报触发 onDetailReport</button></div> <div class="label"><button ng-click="triggerGetData(\'bigApi_onDetailLike\')">点赞触发 onDetailLike</button></div> <div class="label"><button ng-click="triggerGetData(\'bigApi_onDetailReply\')">点击回复触发 onDetailReply</button></div> <div class="label"><button ng-click="triggerGetData(\'bigApi_setVote\')">投票触发 setVote</button></div> <div class="label"><button ng-click="triggerGetData(\'bbsDetail\')">点击图片触发 clickImage</button></div> </div> </div> <output option="output"></output> </div>')}]);